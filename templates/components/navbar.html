<!-- Navigation Bar Component -->
<nav class="navbar navbar-expand-lg navbar-dark">
  <div class="container-fluid">
    <!-- Brand -->
    <a
      class="navbar-brand d-flex align-items-center"
      href="{{ url_for('home') }}"
    >
      <i class="fas fa-home me-2"></i>
      <span class="brand-text" data-translate="homestay-booking">Homi</span>
    </a>

    <!-- Mobile Toggle -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navigation Items -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <!-- Center Navigation -->
      <ul class="navbar-nav mx-auto">
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('home') }}" data-translate="home"
            >Trang chủ</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="{{ url_for('renter_search.search') }}"
            data-translate="search"
            >Tìm kiếm</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="{{ url_for('home') }}#about"
            data-translate="about"
            >Giới thiệu</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link"
            href="{{ url_for('home') }}#contact"
            data-translate="contact"
            >Liên hệ</a
          >
        </li>
      </ul>

      <!-- Right Side Items -->
      <div class="d-flex align-items-center">
        <!-- Language Toggle -->
        <div class="me-3">
          <button id="languageToggle" class="btn btn-outline-light btn-sm">
            <span data-translate="language">Tiếng Việt</span>
          </button>
        </div>

        <!-- User Authentication -->
        {% if current_user.is_authenticated %}
        <!-- User Dropdown -->
        <div class="dropdown">
          <a
            class="nav-link dropdown-toggle d-flex align-items-center"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
          >
            {% if current_user.avatar %}
            <img
              src="{{ current_user.avatar }}"
              alt="Avatar"
              class="rounded-circle me-2"
              width="32"
              height="32"
            />
            {% else %}
            <i class="fas fa-user-circle me-2" style="font-size: 24px"></i>
            {% endif %}
            <span>{{ current_user.username }}</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            {% if current_user.is_admin() %}
            <li>
              <a
                class="dropdown-item"
                href="{{ url_for('admin_dashboard.dashboard') }}"
              >
                <i class="fas fa-tachometer-alt me-2"></i>Admin Dashboard
              </a>
            </li>
            {% elif current_user.is_owner() %}
            <li>
              <a
                class="dropdown-item"
                href="{{ url_for('owner_dashboard.dashboard') }}"
              >
                <i class="fas fa-tachometer-alt me-2"></i>Owner Dashboard
              </a>
            </li>
            {% else %}
            <li>
              <a
                class="dropdown-item"
                href="{{ url_for('renter_dashboard.dashboard') }}"
              >
                <i class="fas fa-tachometer-alt me-2"></i>Dashboard
              </a>
            </li>
            {% endif %}
            <li>
              <a
                class="dropdown-item"
                href="{% if current_user.is_admin() %}{{ url_for('admin_dashboard.profile') }}{% elif current_user.is_owner() %}{{ url_for('owner_dashboard.profile') }}{% elif current_user.is_renter() %}{{ url_for('renter_dashboard.profile') }}{% else %}#{% endif %}"
              >
                <i class="fas fa-user me-2"></i>Hồ sơ
              </a>
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a
                class="dropdown-item text-danger"
                href="{{ url_for('auth.logout') }}"
              >
                <i class="fas fa-sign-out-alt me-2"></i>Đăng xuất
              </a>
            </li>
          </ul>
        </div>
        {% else %}
        <!-- Login/Register Buttons -->
        <div class="auth-buttons-container">
          <a
            href="{{ url_for('auth.login') }}"
            class="nav-link auth-link"
            data-translate="login"
            >Đăng nhập</a
          >
          <a
            href="{{ url_for('auth.register') }}"
            class="nav-link auth-link"
            data-translate="register"
            >Đăng ký</a
          >
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</nav>
